<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User History</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <div>
        <%-include('partials/navbar', {page: '/'})%>

        <div class="hero min-h-screen bg-base-200">
            <div class="hero-content text-center">
                <div class="max-w-md">
                    <h1 class="text-5xl font-bold">Hello, <%= session.user.userName %></h1> 
                    <p class="py-2">Email: <%= session.user.email %></p> 
                    <h2 class="text-3xl font-bold">Login History</h2>
                    <div class="overflow-x-auto">
                        <table class="table w-full">
                          <thead>
                            <tr>
                              <th>Login Date/Time</th>
                              <th>Client Information</th>
                            </tr>
                          </thead>
                          <tbody>
                            <% session.user.loginHistory.forEach(entry => { %> 
                              <tr>
                                <td><%= new Date(entry.dateTime).toLocaleString() %></td>
                                <td><%= entry.userAgent %></td>
                              </tr>
                            <% }) %> 
                          </tbody>
                        </table>
                      </div>
                </div>
            </div>
        </div>
    </div>
</body>